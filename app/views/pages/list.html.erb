<% @page_title = "List All Pages" %>


<div class="page list">
<h2> Pages</h2>

<%= link_to("<< Back to Subjects List", {:controller=>"subjects", :action => 'list'}, :class => 'back-link') %>


<%= link_to("Add New Page", {:action=>'new', :subject_id=>@subject.id}, :class=>'action new') %>


<table class="listing" summary="Page list">

	<div><%=pluralize(@pages.size, 'page')%> found</div> 

	<tr class="header">
		<th>&nbsp;</th>
		<th>Page</th>
		<th>Visible</th>
		<th>Sections</th>
		<th>Actions</th>
	</tr>
	
	<% @pages.each do |page| %>
	<tr class=" <%= cycle('odd', 'even') %> ">
		<td><%= page.position%> </td>
		<td><%= page.name %></td>
		<td class="center">
			<%#= page.visible ? 'Yes' : 'No' %>
			<%= page.visible ? content_tag(:span, "Yes") : content_tag(:span, "No") %>
			<%= status_tag(page.visible) %>
		
		</td>
		<td class="center"><%= page.sections.size %></td>
		<td class="actions">
			<%= link_to("Show All Sections", {:controller=>"sections", :action=>'list', :page_id=>page.id}, :class=> 'action list') %>
			<%= link_to("Show", {:action=>'show', :id=>page.id, :subject_id=>@subject.id}, :class=> 'action show') %>
			<% #  :class stands for css class %>
			<%= link_to("Edit", {:action=>'edit', :id=>page.id, :subject_id=>@subject.id}, :class=>'action edit') %>
			<%= link_to("Delete", {:action=>'delete', :id=>page.id, :subject_id=>@subject.id}, :class=>'action delete') %>
		</td>
	</tr>
	<% end %>
</table>

</div>